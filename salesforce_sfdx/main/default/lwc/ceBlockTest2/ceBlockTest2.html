<template>
    <div class="measureQuerySelector nds-size_1-of-1 border">
		<div class={blockClasses}>
        	<div class="nds-form-element__control nds-block_container">
          		<label class="nds-form-element__label nds-clearfix">
            		<template if:true={_propSetMap.repeat}>
              			<button if:true={blockLabel}
							class="nds-grid nds-button--reset nds-size_1-of-1 nds-cursor-pointer"
							label="toggle"
							tabindex="0"
							aria-expanded={expandContent}
							aria-controls="content"
							onclick={toggleContent}>
                			<vlocity_cmt-icon extraclass="nds-block__action-icon nds-button__icon nds-button__icon-left"
								icon-name="utility:switch"
								theme="nds"
								size="small">
                			</vlocity_cmt-icon>
                			<div class="nds-form-element__label_toggle-text new-label" role="status">
								{newLabel}
								<div if:true={showValidation} class="nds-has-error">
                    				<div class="nds-form-element__help nds-form-element__help_text-transform__none">
                      					<span class="nds-text-link_faux">{allCustomLabelsUtil.OmniBlockError}</span>
                    				</div>
                  				</div>
                			</div>
                			<div class="nds-control-action__container">
                			</div>
              			</button>
					</template>
					<template if:false={_propSetMap.repeat}>
						<button if:true={blockLabel}
							class="nds-grid nds-button--reset nds-size_1-of-1 nds-cursor-pointer"
							label="toggle"
							tabindex="0"
							aria-expanded={expandContent}
							aria-controls="content"
							onclick={toggleContent}>
							<vlocity_cmt-icon extraclass="nds-block__action-icon nds-button__icon nds-button__icon-left"
								icon-name="utility:switch"
								theme="nds"
								size="small">
							</vlocity_cmt-icon>
							<div class="nds-form-element__label_toggle-text heading" role="status">
								{blockLabel}
								<div if:true={showErrorMessage} class="nds-has-error">
									<div class="nds-form-element__help nds-form-element__help_text-transform__none">
										{allCustomLabelsUtil.OmniBlockError}
									</div>
								</div>
							</div>
							<div class="nds-control-action__container">
							</div>
						</button>
					</template>
          		</label>
          <!-- <template if:true={_propSetMap.repeat}> -->
            <div class="nds-is-absolute nds-button-group" role="group">
				<template if:true={showEdit}>
					<div class="edit-button">
						<a href="" onclick={handleEdit}>Edit</a>
					</div>
				</template>
				<template if:true={showDelete}>
					<vlocity_cmt-button
                        variant="base"
                        onclick={handleDelete}
                        label={allCustomLabelsUtil.OmniDelete}
                        class="nds-m-left_x-small"
                        theme={_theme}
                        aria-label={_removeAriaLabel}>
              		</vlocity_cmt-button>
				</template>
            </div>
          <!-- </template> -->
				<div id="content" class="nds-size_1-of-1 measure-section" aria-hidden={expandContent}>
            		<div class="nds-grid nds-wrap nds-grid_pull-padded slds-p-bottom_x-medium">
              			<slot></slot>
            		</div>
        		</div>
        	</div>
		</div>
    </div>
</template>